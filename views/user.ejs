<%- include("partials/header.ejs") -%>
<div class="container">
    <% if(locals.data){ data.forEach(user =>{ %>
    <!-- VIewing -->
     <div class="userContainer">
        <li style="list-style: none;">
            <label for="">Full Name</label>
            <ul><%- user.first_name %> <%- user.middle_name %> <%- user.last_name %></ul>
            <label for="">Age</label>
            <ul><%- user.age %></ul>
            <label for="">Birth Day</label>
            <ul><%- user.birth_date %></ul>
            <label for="">Adresses</label>
            <ul><%- user.addresses %></ul>
        </li>
        <button id="toggle" class="btn btn-primary">Edit</button>
     </div>

    <!-- Updating -->
        <section id="addData" class="hidden">
            <form action="/edit" method="post" class="userForm">
                <input type="text" name="id" value="<%- user.id %>" hidden>
                <input type="text" name="fname" placeholder="First Name" value="<%- user.first_name %>">
                <input type="text" name="midname" placeholder="Middle Name" value="<%- user.middle_name %>">
                <input type="text" name="lname" placeholder="Last Name" value="<%- user.last_name %>">
                <input type="text" name="address" placeholder="Address" value="<%- user.address %>">
                <input type="button" onclick="addAddress()" value="add address" id="address">
                <input type="number" name="age" placeholder="Age" value="<%- user.age %>" disabled>
                <input type="date" name="birthday" placeholder="Birthday" value="<%- user.birth_date %>">
                <input type="submit" name="submit" value="Confirm">
            </form>
        </section>
    <%}) } %>
</div>
<script>
    document.getElementById("toggle").addEventListener("click", function() {
        console.log("test")
        document.getElementById("addData").classList.toggle("hidden");
    })

    function addAddress() {
        var x = document.createElement("INPUT");
        x.setAttribute("type", "text");
        x.setAttribute("name", "current_addres");
        x.setAttribute("placeholder", "Current Address");
        document.getElementById("address").appendChild(x);
    }
        // document.getElementById("addData").classList.toggle("hidden");
    
</script>